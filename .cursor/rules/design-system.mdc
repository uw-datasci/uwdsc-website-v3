---
alwaysApply: true
---

# Design System Architecture

This project follows an **Atomic Design System** pattern using shadcn/ui as the foundation.

## Structure Overview

### üß¨ Atoms: UI Package (`packages/ui`)

The `packages/ui` directory contains **shared, reusable UI primitives** built with shadcn/ui components. These are the foundational building blocks of the design system.

**Package Configuration:**
- Uses shadcn/ui "new-york" style
- Exports via `packages/ui/src/index.ts`
- Includes global styles at `packages/ui/src/styles/globals.css`
- UI components at `packages/ui/src/components`
- Configuration: `packages/ui/components.json`

### üß© Molecules: App Components

Each app (`apps/web/components`, `apps/admin/components`) contains **composed components** that combine atoms from the UI package with app-specific logic.

**Examples:**
- `apps/web/components/team/TeamCard.tsx` - Composes Card, CardHeader, CardContent from `@uwdsc/ui`
- `apps/web/components/home_sections/Hero.tsx` - Uses CountingNumber, GlassSurface from `@uwdsc/ui`
- `apps/admin/components/memberships/MembershipsTable.tsx` - Uses table and form atoms from `@uwdsc/ui`

## Adding New Shadcn Components

To add a new shadcn component to the shared UI package, from the **repository root**:

```bash
pnpm ui:add <component-name>
```

**Example:**
```bash
pnpm ui:add dialog
pnpm ui:add dropdown-menu
pnpm ui:add input
```

This script is defined in the root `package.json` and implemented in `scripts/ui-add.js`; it runs shadcn in the `packages/ui` directory. The web app also has a local `ui:add` script in `apps/web/package.json` that targets the same UI package.

## Usage Guidelines

### ‚úÖ Do

1. **Import atoms from `@uwdsc/ui`** in your app components:
   ```tsx
   import { Card, Button, Avatar } from "@uwdsc/ui";
   ```

2. **Create molecules in app-specific `components/` folders** when:
   - Combining multiple atoms
   - Adding app-specific business logic
   - Creating feature-specific compositions

3. **Add new primitives to the UI package** when:
   - The component will be reused across multiple apps (web, admin)
   - It's a pure UI component with minimal business logic
   - It follows shadcn/ui patterns

### ‚ùå Don't

1. **Don't duplicate shadcn components** in app folders - add them to the UI package instead
2. **Don't add business logic** to UI package atoms - keep them pure and reusable
3. **Don't manually install shadcn components** - always use `pnpm ui:add` from the repo root

## Package Exports

The UI package exports:
- `@uwdsc/ui` - All component exports
- `@uwdsc/ui/globals.css` - Global styles
- `@uwdsc/ui/postcss.config` - PostCSS configuration
- `@uwdsc/ui/lib/utils` - Utilities such as `cn` (used in apps and docs)

## Dependencies

The UI package includes:
- **Radix UI** primitives (headless components)
- **Tailwind CSS** for styling
- **Framer Motion** for animations
- **Lucide React** for icons (via shadcn)
- **next-themes** for theme support
- **class-variance-authority** for variant styling
